__author__ = 'HanHui'import osfrom celery import Celeryfrom celery.schedules import crontabfrom django.conf import settings# set the default Django settings module for the 'celery' program.os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'Tutorial_Server.settings')app = Celery('CronTab')# Using a string here means the worker will not have to# pickle the object when using Windows.app.config_from_object('django.conf:settings')app.autodiscover_tasks(lambda: settings.INSTALLED_APPS)app.conf.CELERYBEAT_SCHEDULE = {    # Executes the first day every month at 2:15am.    'syncHotels-every-week': {        'task': 'CronTab.dida.syncHotels',        # 'schedule': crontab(minute=15, hour=2, day_of_month=1),        # 'schedule': timedelta(days=30),        'schedule': crontab(minute=30, hour=2, day_of_week=1),        # 'args': (sate, productThreadNumber, imageThreadNumber, delta=None)    },    'gecode-every-day': {        'task': 'CronTab.dida.gecodewithMapApi',        # 'schedule': crontab(minute=15, hour=2, day_of_month=1),        # 'schedule': timedelta(days=30),        'schedule': crontab(minute=30, hour=1),        # 'args': (sate, productThreadNumber, imageThreadNumber, delta=None)    }}